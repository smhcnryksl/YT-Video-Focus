const trans = {
    tr: {
        title: "KullanÄ±m KÄ±lavuzu ğŸ“˜",
        header: "KullanÄ±m KÄ±lavuzu ğŸ“˜",
        intro: "YT Video Focus, YouTube'da dikkatinizi korumanÄ±za ve verimli Ã§alÄ±ÅŸmanÄ±za yardÄ±mcÄ± olan geliÅŸmiÅŸ bir odaklanma asistanÄ±dÄ±r.",
        sections: [
            {
                title: "1. Ana Ekran ve Ã–zellikler",
                content: `
                    <ul>
                        <li><b>ZamanlayÄ±cÄ±lar:</b> "Toplam Ã‡alÄ±ÅŸma" ve "Kalan Video SÃ¼resi"ni takip eder.</li>
                        <li><b>Oynatma Listesi SÃ¼resi:</b> Oynatma listesi sayfalarÄ±nda, toplam sÃ¼reyi ve farklÄ± hÄ±zlardaki (1.25x, 1.5x vb.) bitirme sÃ¼relerini gÃ¶sterir.</li>
                        <li><b>BaÅŸlat/Durdur:</b> Odak modunu aÃ§ar. YouTube arayÃ¼zÃ¼ sadeleÅŸir, yorumlar ve Ã¶neriler gizlenir.</li>
                        <li><b>Ä°statistikler (ğŸ“Š):</b> DetaylÄ± kullanÄ±m raporlarÄ±nÄ± gÃ¶sterir.</li>
                    </ul>
                `
            },
            {
                title: "2. Ã‡alÄ±ÅŸma Profilleri (Listeler)",
                content: `
                    <p>"Listeleri YÃ¶net" menÃ¼sÃ¼nden farklÄ± senaryolar (Ders, Ä°ÅŸ vb.) iÃ§in profiller oluÅŸturabilirsiniz.</p>
                    <ul>
                        <li><b>Engelleme Modu (Kara Liste):</b> Sadece eklediÄŸiniz siteleri engeller (Ã–rn: Sadece sosyal medya yasak).</li>
                        <li><b>SÄ±kÄ± Mod (Beyaz Liste):</b> YouTube hariÃ§ <u>tÃ¼m interneti engeller</u>, sadece izin verdiklerinizi aÃ§ar.</li>
                    </ul>
                    <div class="note">
                        ğŸ›¡ï¸ <b>VarsayÄ±lan Liste:</b> Sizin iÃ§in Ã¶nceden hazÄ±rladÄ±ÄŸÄ±mÄ±z dikkati daÄŸÄ±tan siteler listesidir (Instagram, TikTok, Twitter vb.). Bu liste silinemez ama iÃ§eriÄŸini dÃ¼zenleyebilirsiniz.
                    </div>
                `
            },
            {
                title: "3. NasÄ±l KullanÄ±lÄ±r? (AdÄ±m AdÄ±m)",
                content: `
                    <div class="step-guide">
                        <h4>AdÄ±m 1: Liste ve Mod SeÃ§imi</h4>
                        <p>Eklentiyi aÃ§Ä±n ve <b>"Listeleri YÃ¶net"</b> butonuna tÄ±klayÄ±n. Buradan amacÄ±nÄ±za uygun bir liste seÃ§in:</p>
                        <ul>
                            <li><b>Kara Liste (Ã–nerilen):</b> "VarsayÄ±lan" listeyi seÃ§erseniz popÃ¼ler dikkat daÄŸÄ±tÄ±cÄ±lar zaten engellidir. Ekstra site ekleyebilirsiniz.</li>
                            <li><b>Beyaz Liste:</b> Sadece ders/iÅŸ iÃ§in kesin gerekli siteleri ekleyin. YouTube dÄ±ÅŸÄ±nda her yer kapanÄ±r.</li>
                        </ul>

                        <h4>AdÄ±m 2: OdaklanmayÄ± BaÅŸlatma</h4>
                        <p>AyarlarÄ±nÄ±z bittikten sonra ana ekrana dÃ¶nÃ¼n:</p>
                        <ul>
                            <li>YouTube'da Ã§alÄ±ÅŸmak veya izlemek istediÄŸiniz <b>videoyu aÃ§Ä±n</b> (Video aÃ§Ä±k olmadan odak modu baÅŸlamaz!).</li>
                            <li>Eklentideki <b>BAÅLAT</b> butonuna basÄ±n.</li>
                        </ul>
                        <div class="note">
                            ğŸš€ <b>Odak Modunda Neler Olur?</b><br>
                            - YouTube yorumlarÄ±, yan panel ve Shorts gizlenir.<br>
                            - SeÃ§tiÄŸiniz listedeki yasaklÄ± sitelere girmeniz engellenir.<br>
                            - SÃ¼re sayacÄ± iÅŸlemeye baÅŸlar.
                        </div>

                        <h4>AdÄ±m 3: Ã‡alÄ±ÅŸma ve BitiÅŸ</h4>
                        <p>Odaklanma ÅŸu durumlarda biter:</p>
                        <ul>
                            <li>Ä°zlediÄŸiniz <b>video bittiÄŸinde</b>.</li>
                            <li>Video sekmesini <b>kapattÄ±ÄŸÄ±nÄ±zda</b>.</li>
                            <li>Siz <b>DURDUR</b> butonuna bastÄ±ÄŸÄ±nÄ±zda.</li>
                        </ul>
                    </div>
                `
            },
            {
                title: "4. Ä°puÃ§larÄ±",
                content: `
                    <div class="note">
                        ğŸ’¡ <b>Video SÃ¼resi:</b> Video izlerken duraklatÄ±rsanÄ±z, "Kalan Video SÃ¼resi" sayacÄ± da durur. Net Ã§alÄ±ÅŸma sÃ¼renizi Ã¶lÃ§ersiniz.
                    </div>
                    <div class="note">
                        âš¡ <b>SÄ±kÄ± Koruma:</b> "VarsayÄ±lan" liste silinmeye karÅŸÄ± korumalÄ±dÄ±r. Kendinizi disipline etmek iÃ§in bu listeyi kullanÄ±n.
                    </div>
                `
            }
        ]
    },
    en: {
        title: "User Guide ğŸ“˜",
        header: "User Guide ğŸ“˜",
        intro: "YT Video Focus is an advanced focus assistant designed to help you stay productive and distraction-free on YouTube.",
        sections: [
            {
                title: "1. Main Screen & Features",
                content: `
                    <ul>
                        <li><b>Timers:</b> Tracks "Total Focus Time" and "Remaining Video Time".</li>
                        <li><b>Playlist Duration:</b> Shows total duration and completion times at different speeds (1.25x, 1.5x, etc.) on playlist pages.</li>
                        <li><b>Start/Stop:</b> Toggles focus mode. Hides YouTube comments, recommendations, and shorts.</li>
                        <li><b>Statistics (ğŸ“Š):</b> Shows detailed usage reports.</li>
                    </ul>
                `
            },
            {
                title: "2. Work Profiles (Lists)",
                content: `
                    <p>Create profiles for different scenarios (Study, Work) via "Manage Lists".</p>
                    <ul>
                        <li><b>Blacklist Mode:</b> Blocks only the sites you add (e.g., social media).</li>
                        <li><b>Whitelist Mode (Strict):</b> Blocks <u>the entire internet</u> except YouTube and allowed sites.</li>
                    </ul>
                    <div class="note">
                        ğŸ›¡ï¸ <b>Default List:</b> A pre-made list of common distractions (Instagram, TikTok, Twitter, etc.). This list cannot be deleted, but you can edit its content.
                    </div>
                `
            },
            {
                title: "3. How to Use? (Step-by-Step)",
                content: `
                    <div class="step-guide">
                        <h4>Step 1: Select List & Mode</h4>
                        <p>Open <b>"Manage Lists"</b>. Choose a profile that suits your goal:</p>
                        <ul>
                            <li><b>Blacklist (Recommended):</b> The "Default" list already blocks popular distractions. You can add more.</li>
                            <li><b>Whitelist:</b> Add only websites essential for your work. Everything else will be blocked.</li>
                        </ul>

                        <h4>Step 2: Start Focusing</h4>
                        <p>Return to the main screen:</p>
                        <ul>
                            <li>Open the <b>YouTube video</b> you want to watch (Focus mode requires an active video!).</li>
                            <li>Click the <b>START</b> button.</li>
                        </ul>
                        <div class="note">
                            ğŸš€ <b>What Happens in Focus Mode?</b><br>
                            - YouTube comments, sidebar suggestions, and Shorts are hidden.<br>
                            - Access to blocked sites in your list is prevented.<br>
                            - Timers start tracking your session.
                        </div>

                        <h4>Step 3: During & Ending</h4>
                        <p>The session ends automatically if:</p>
                        <ul>
                            <li>The <b>video ends</b>.</li>
                            <li>You <b>close the tab</b>.</li>
                            <li>You manually click <b>STOP</b>.</li>
                        </ul>
                    </div>
                `
            },
            {
                title: "4. Tips",
                content: `
                    <div class="note">
                        ğŸ’¡ <b>Timer Accuracy:</b> If you pause the video, the "Video Time" counter also pauses, ensuring accurate tracking.
                    </div>
                    <div class="note">
                        âš¡ <b>Protection:</b> The "Default" list is protected from deletion to help you maintain discipline.
                    </div>
                `
            }
        ]
    },
    es: {
        title: "GuÃ­a de Usuario ğŸ“˜",
        header: "GuÃ­a de Usuario ğŸ“˜",
        intro: "YT Video Focus es un asistente avanzado diseÃ±ado para ayudarte a mantener la concentraciÃ³n y productividad en YouTube.",
        sections: [
            {
                title: "1. Pantalla Principal y Funciones",
                content: `
                    <ul>
                        <li><b>Temporizadores:</b> Rastrea "Tiempo Total" y "Tiempo Restante".</li>
                        <li><b>DuraciÃ³n de Lista:</b> Muestra la duraciÃ³n total y tiempos a diferentes velocidades en listas de reproducciÃ³n.</li>
                        <li><b>Iniciar/Detener:</b> Activa el modo de enfoque. Oculta comentarios y recomendaciones.</li>
                        <li><b>EstadÃ­sticas (ğŸ“Š):</b> Muestra informes detallados.</li>
                    </ul>
                `
            },
            {
                title: "2. Perfiles de Trabajo (Listas)",
                content: `
                    <p>Crea perfiles para diferentes escenarios en "Gestionar Listas".</p>
                    <ul>
                        <li><b>Modo Lista Negra:</b> Bloquea solo los sitios que agregues.</li>
                        <li><b>Modo Lista Blanca (Estricto):</b> Bloquea <u>todo internet</u> excepto YouTube y sitios permitidos.</li>
                    </ul>
                    <div class="note">
                        ğŸ›¡ï¸ <b>Lista Predeterminada:</b> Una lista prefabricada de distracciones comunes (Instagram, TikTok, etc.). No se puede eliminar.
                    </div>
                `
            },
            {
                title: "3. Â¿CÃ³mo Usar? (Paso a Paso)",
                content: `
                    <div class="step-guide">
                        <h4>Paso 1: Seleccionar Lista y Modo</h4>
                        <p>Abre <b>"Gestionar Listas"</b>. Elige un perfil:</p>
                        <ul>
                            <li><b>Lista Negra (Recomendado):</b> La lista "Predeterminada" ya bloquea distracciones populares.</li>
                            <li><b>Lista Blanca:</b> Agrega solo sitios esenciales. Todo lo demÃ¡s serÃ¡ bloqueado.</li>
                        </ul>

                        <h4>Paso 2: Iniciar Enfoque</h4>
                        <p>Vuelve a la pantalla principal:</p>
                        <ul>
                            <li>Abre el <b>video de YouTube</b> (Â¡Se requiere un video activo!).</li>
                            <li>Haz clic en el botÃ³n <b>INICIAR</b>.</li>
                        </ul>
                        <div class="note">
                            ğŸš€ <b>Â¿QuÃ© Pasa en Modo Enfoque?</b><br>
                            - Se ocultan comentarios, sugerencias y Shorts.<br>
                            - Se impide el acceso a sitios bloqueados.<br>
                            - Los temporizadores comienzan a contar.
                        </div>

                        <h4>Paso 3: FinalizaciÃ³n</h4>
                        <p>La sesiÃ³n termina automÃ¡ticamente si:</p>
                        <ul>
                            <li>El <b>video termina</b>.</li>
                            <li><b>Cierras la pestaÃ±a</b>.</li>
                            <li>Haces clic en <b>DETENER</b>.</li>
                        </ul>
                    </div>
                `
            },
            {
                title: "4. Consejos",
                content: `
                    <div class="note">
                        ğŸ’¡ <b>PrecisiÃ³n:</b> Si pausas el video, el contador de tiempo tambiÃ©n se pausa.
                    </div>
                    <div class="note">
                        âš¡ <b>ProtecciÃ³n:</b> La lista "Predeterminada" estÃ¡ protegida contra eliminaciÃ³n para ayudarte a mantener la disciplina.
                    </div>
                `
            }
        ]
    }
};

function loadGuide() {
    chrome.storage.local.get(['lang'], (res) => {
        const L = res.lang || 'en';
        const t = trans[L] || trans['en'];

        document.title = t.title;
        document.querySelector('h1').textContent = t.header;
        document.getElementById('intro').textContent = t.intro;

        const container = document.getElementById('contentArea');
        container.innerHTML = t.sections.map(s => `
            <div class="section">
                <h2>${s.title}</h2>
                <div>${s.content}</div>
            </div>
        `).join('');
    });
}

document.addEventListener('DOMContentLoaded', () => {
    loadGuide();
});
